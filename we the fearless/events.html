<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Events</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="events.css">
</head>
<body>
   <!-- Navbar -->
<div class="navbar">
  <!-- Logo -->
  <div class="logo-overlay">
      <a href="index.html">
          <img src="img/2f.png" alt="Fearless Logo">
      </a>
  </div>
  
  <!-- Navigation Links -->
  <div class="nav-links" id="nav-links">
      <a href="index.html">Home</a>
      <a href="events.html" class="active">Events</a>
      <a href="outreach.html">Outreach</a>
      <a href="merchandise.html">Merchandise</a>
      <a href="about.html">About us</a>
      <a href="donations.html">Donations</a>
      <a href="contact.html">Contact us</a>
  </div>
  
  <!-- Hamburger Menu Icon -->
  <div class="hamburger" onclick="toggleMenu()">&#9776;</div>
</div>

<!-- Add this HTML for the snackbar -->
<div id="snackbar"></div>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-overlay">
      <div class="hero-content">
        <h1>Our upcoming Annual Fearless Camp</h1>
        <div class="event-details">
          <span>üìÖ August 25-29</span>
          <span>üìç CMLTI Limuru, KENYA</span>
          <span>‚õ™ </span>
        </div>
        <p>Embark on a journey of self-discovery as you push your limits.</p>
        <div class="countdown-timer">
          <div><span id="days">000</span><p>DAYS</p></div>
          <div><span id="hours">00</span><p>HOURS</p></div>
          <div><span id="minutes">00</span><p>MINUTES</p></div>
          <div><span id="seconds">00</span><p>SECONDS</p></div>
        </div>
        <!-- <button class="buy-tickets">BE PART OF THE FEARLESS EVENTS TODAY</button> -->
        
      </div>
    </div>
  </section>

  <section id="fearless-event" style="background-color: black; color: white; padding: 50px 20px; text-align: left;">
    <div style="display: flex; flex-wrap: wrap; align-items: center; justify-content: center; max-width: 1200px; margin: 0 auto;">
        <!-- Left Side: Video -->
        <div style="flex: 1; min-width: 300px; padding: 20px;">
          <video autoplay muted loop style="width: 100%; border-radius: 0; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);">
            <source src="img/dy.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        
        </div>
        <!-- Right Side: Content -->
        <div style="flex: 1; min-width: 300px; padding: 20px;">
            <!-- Title -->
            <h2 style="font-size: 2rem; font-weight: bold; margin-bottom: 20px;">Our Annual Fearless Camp</h2>
            <!-- Subtitle -->
            <h3 style="font-size: 1.5rem; font-weight: normal; margin-bottom: 15px;">Join Us for the Ultimate Experience</h3>
            <!-- Description -->
            <p style="font-size: 1rem; line-height: 1.6; margin-bottom: 20px;">
                Be part of a transformational  featuring inspiring speakers, worship sessions, and empowering discussions.
                A once-in-a-lifetime opportunity to connect and grow!
            </p>
            <!-- Date and Venue -->
            <p style="font-size: 1rem; line-height: 1.8;">
                <span style="display: block; margin-bottom: 10px;">
                    üóìÔ∏è <strong>August 25, 2025 @ 10:00 am - August 29, 2025 @ 1:00 pm</strong>
                </span>
                <span style="display: block;">
                    üìç <strong>Clarence Matheny Ministries, Limuru, Kenya</strong>
                </span>
            </p>
        </div>
    </div>
</section>

<section>
<div class="events-section">
  <h2>Upcoming Events</h2>
  <p>Join us For Life Changing Events Today!!</p>
  <div class="events-container">
    <div class="event-card" onclick="toggleDescription(this)">
      <img src="img/fee.jpeg" alt="Event 1">
      <div class="event-info">
        <div class="date">
          <span>5</span>
          <span>December</span>
        </div>
        <button class="more-info-btn">More Info</button>
      </div>
      <div class="event-description">
        Be part of a transformational event featuring inspiring speakers, worship sessions, and empowering discussions.
                A once-in-a-lifetime opportunity to connect and grow!
      </div>
    </div>
    <div class="event-card" onclick="toggleDescription(this)">
      <img src="img/e3.jpg" alt="Event 2">
      <div class="event-info">
        <div class="date">
          <span>7</span>
          <span>December</span>
        </div>
        <button class="more-info-btn">More Info</button>
      </div>
      <div class="event-description">
        Be part of a transformational event featuring inspiring speakers, worship sessions, and empowering discussions.
                A once-in-a-lifetime opportunity to connect and grow!
      </div>
    </div>
    <div class="event-card" onclick="toggleDescription(this)">
      <img src="img/e1.jpg" alt="Event 3">
      <div class="event-info">
        <div class="date">
          <span>15</span>
          <span>December</span>
        </div>
        <button class="more-info-btn">More Info</button>
      </div>
      <div class="event-description">
        History and Evolution of Typography lecture with Rizvan Bagirli.
      </div>
    </div>
    <div class="event-card" onclick="toggleDescription(this)">
      <img src="img/we.jpg" alt="Event 4">
      <div class="event-info">
        <div class="date">
          <span>28</span>
          <span>December</span>
        </div>
        <button class="more-info-btn">More Info</button>
      </div>
      <div class="event-description">
        Inter-Uni Football Tournament: Khazar vs ADU.
      </div>
    </div>
  </div>
</div>
</section>
<section class="stats-section">
  <div class="stats-container">
    <div class="stat-item">
      <img src="logo/yt.jpg" alt="Employees Icon" class="stat-icon">
      <h2 class="counter" data-target="1000">0</h2>
      <p>Fearless Youth</p>
    </div>
    <div class="stat-item">
      <img src="logo/cu.jpg" alt="Projects Icon" class="stat-icon">
      <h2 class="counter" data-target="20">0</h2>
      <p>Churches</p>
    </div>
    <div class="stat-item">
      <img src="logo/wo.jpg" alt="Cities Icon" class="stat-icon">
      <h2 class="counter" data-target="10">0</h2>
      <p>Countries</p>
    </div>
    <div class="stat-item">
      <img src="logo/ray.jpg" alt="Customers Icon" class="stat-icon">
      <h2 class="counter" data-target="1000">0</h2>
      <p>Lives Transformed</p>
    </div>
  </div>
</section>


<!-- Ticket Section -->
<section class="ticket-section">
  <h2>Purchase TheFearlessMovement Annual Camp Tickets</h2>
  <div class="card-container">
    <div class="card">
      <img src="img/2f.png" alt="Discount Ticket">
      <div class="badge">10% OFF</div>
      <div class="card-content">
        <h3>10% Discount</h3>
        <p>Buy early and save 10% 
          on the initial cost</p>
        <span>Sh. 4500</span>
      </div>
    </div>
    <div class="card">
      <img src="img/2f.png" alt="Standard Ticket">
      <div class="badge">Standard</div>
      <div class="card-content">
        <h3>Standard Ticket</h3>
        <p>Regular price ticket</p>
        <span>Sh. 5000</span>
      </div>
    </div>
    <div class="card">
      <img src="img/2f.png" alt="Group Ticket">
      <div class="badge">Best Value</div>
      <div class="card-content">
        <h3>Group Ticket</h3>
        <p>Group ticket which gives access
          to 4 people</p>
        <span>Sh. 20000</span>
      </div>
    </div>
  </div>
  
  <div class="selection-container">
    <select id="ticket-type">
      <option value="4500">10% Discount - Sh. 4500</option>
      <option value="5000">Standard - Sh. 5000</option>
      <option value="20000">Group Ticket - Sh. 20000</option>
    </select>
    <input type="number" id="ticket-quantity" placeholder="Enter quantity" min="1">
    <div class="total">Total: Sh. <span id="total-cost">0</span></div>
    <button class="purchase-btn" id="purchase-button">Purchase Tickets</button>
  </div>
</section>

<!-- Add Modal HTML for M-Pesa Payment -->
<div class="modal" id="mpesa-modal">
  <div class="modal-content">
    <h3>Complete Your Purchase</h3>
    <input type="text" id="user-name" placeholder="Full Name" required>
    <input type="email" id="user-email" placeholder="Email Address" required>
    <input type="text" id="user-phone" placeholder="Phone Number" required>
    <button id="confirm-mpesa-button">Confirm Payment via MPesa</button>
  </div>
</div>
<section class="ticket-section">
  <!-- <button class="purchase-ticket">Purchase Ticket</button> -->

  <div class="thank-you-message">
    <p>
      <em>Thank you for being part of the fearless movement. View our Camp Calender and gallery.</em>
    </p>
    <div class="action-buttons">
      <button class="orange-button" id="schedule-button">Schedule</button>
      <button class="orange-button" id="gallery-button">Gallery</button>
    </div>
</div>

  <!-- Schedule Section (Initially Hidden) -->
<section class="event-schedule hidden" id="event-schedule">
    <h2>Information of Camp Schedules</h2>
    <div class="tabs">
      <button class="tab active" data-filter="all">All Events</button>
      <button class="tab" data-filter="check-in & registration">Check In</button>
      <button class="tab" data-filter="morning-devotion">Morning Devotion</button>
      <button class="tab" data-filter="breakfast">Breakfast</button>
      <button class="tab" data-filter="workshops">Workshops</button>
      <button class="tab" data-filter="games">Games</button>
      <button class="tab" data-filter="dinner">Dinner</button>
      <button class="tab" data-filter="evening-service">Evening Service</button>
      <button class="tab" data-filter="sleep">Sleep</button>
    </div>
    <div class="schedule-table">
      <table>
        <thead>
          <tr>
            <th>Time</th>
            <th>Monday</th>
            <th>Tuesday</th>
            <th>Wednesday</th>
            <th>Thursday</th>
            <th>Friday</th>
          </tr>
        </thead>
        <tbody>
          <!-- Schedule rows -->
          <tr data-event="checking-in">
            <td>12:00-4:00 pm</td>
            <td>Check In & Registration</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr data-event="breakfast">
            <td>7:30-8:00 am</td>
            <td></td>
            <td>Breakfast</td>
            <td>Breakfast</td>
            <td>Breakfast</td>
            <td>Breakfast</td>
          </tr>
          <tr data-event="morning-devotion">
            <td>8:00-10:30 am</td>
            <td></td>
            <td>Morning Devotion</td>
            <td>Morning Devotion</td>
            <td>Morning Devotion</td>
            <td>Morning Devotion</td>
          </tr>
          <tr data-event="workshops">
            <td>11:30-1:00 pm</td>
            <td></td>
            <td>Workshops</td>
            <td>Workshops</td>
            <td>Workshops</td>
            <td>Workshops</td>
          </tr>
          <tr data-event="games">
            <td>2:30-5:00 pm</td>
            <td></td>
            <td>Games</td>
            <td>Games</td>
            <td>Games</td>
            <td>Games</td>
          </tr>
          <tr data-event="dinner">
            <td>6:30-7:15 pm</td>
            <td>Dinner</td>
            <td>Dinner</td>
            <td>Dinner</td>
            <td>Dinner</td>
            <td></td>
          </tr>
          <tr data-event="evening-service">
            <td>7:30-10:00 pm</td>
            <td>Evening Service</td>
            <td>Evening Service</td>
            <td>Evening Service</td>
            <td>Evening Service</td>
            <td></td>
          </tr>
          <tr data-event="sleep">
            <td>10:00 pm</td>
            <td>Sleep</td>
            <td>Sleep</td>
            <td>Sleep</td>
            <td>Sleep</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
</section>

  <!-- Gallery Section (Initially Hidden) -->
<section class="gallery hidden" id="gallery-section">
    <h2>Photo Gallery</h2>
    <p>Select a day to view and download photos:</p>
    <div class="gallery-buttons">
      <a href="https://drive.google.com/drive/folders/1YacH0AEKgZOGp_pX_yWRZvFeRRIhdDqz?usp=drive_link" target="_blank" class="gallery-button">Day 1</a>
      <a href="https://drive.google.com/drive/folders/1RDikkQt7yv5QLTFsQrc7CpC9Ptk2teLh?usp=drive_link" target="_blank" class="gallery-button">Day 2</a>
      <a href="https://drive.google.com/drive/folders/17EVKk-BPktqEwBgUr6yYUWfcFbD8Aoan?usp=drive_link" target="_blank" class="gallery-button">Day 3</a>
      <a href="https://drive.google.com/drive/folders/1ppvzs0TKRdv2GetPHhVgHT6F1bsZQrnf?usp=drive_link" target="_blank" class="gallery-button">Day 4</a>
      <a href="https://drive.google.com/drive/folders/1LENr8Gx6YWN5yyeEM4ntA1SCD0C-6VIc?usp=drive_link" target="_blank" class="gallery-button">Dinner</a>
    </div>
  </section>
</section>


<!-- Testimonial Section -->
<div class="testimonial-section">
  <blockquote>
      <p> "Thank you for being a part of The Fearlessmovement events. <br>Your presence, prayers, and support make our gatherings 
        truly meaningful and uplifting.<br> May the message shared here continue to inspire and guide you in your journey of faith.<br> 
        We are deeply grateful for your fellowship and look forward to seeing you at future events. 
        <br>May God's love and peace always be with you! üôè"</p>
      <cite>~Pst Justus Mugweru</cite>
  </blockquote>
</div>

<!-- Footer Section -->
<div class="footer">
  <!-- Left Column -->
  <div class="footer-column">
      <h4>The Fearlessmovement</h4>
      <p>Called to shine; reflecting Christ in a dark world</p>
      <div class="footer-socials">
          <a href="https://twitter.com/" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
          <a href="https://instagram.com/the.fearlessmovement" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="https://www.facebook.com/thefearlessmovement" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
          <a href="https://www.tiktok.com/@the.fearless.move" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
      </div>
  </div>

  <!-- Middle Column -->
  <div class="footer-column">
      <h4>Our Store</h4>
      <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#service">Service</a></li>
          <li><a href="#contact">Contact</a></li>
      </ul>
  </div>

  <!-- Right Column -->
  <div class="footer-column">
      <h4>Get In Touch</h4>
      <ul>
        <li><i class="fas fa-map-marker-alt"></i> 04, Funzi Road Nairobi</li>
        <li><i class="fas fa-phone"></i> +254 710 899453</li>
        <li><i class="fas fa-phone"></i> +254 710 899453</li>
        <li><i class="fas fa-envelope"></i> thefearlessmovement1@gmail.com</li>
      </ul>
  </div>

  <!-- Copyright -->
  <div class="footer-copyright">
      &copy; 2024 <span>The Fearlessmovement</span>. All rights reserved
  </div>
</div>


<script>
   // Consolidated JavaScript for Event Website
document.addEventListener("DOMContentLoaded", () => {
  // Navigation menu toggle
  function toggleMenu() {
    const navLinks = document.getElementById('nav-links');
    navLinks.classList.toggle('active');
  }

  // Countdown Timer
  const eventDate = new Date("August 25, 2025 00:00:00").getTime();
  
  function updateCountdown() {
    const now = new Date().getTime();
    const timeLeft = eventDate - now;
  
    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
  
    document.getElementById("days").textContent = days.toString().padStart(3, '0');
    document.getElementById("hours").textContent = hours.toString().padStart(2, '0');
    document.getElementById("minutes").textContent = minutes.toString().padStart(2, '0');
    document.getElementById("seconds").textContent = seconds.toString().padStart(2, '0');
  }
  
  // Update the countdown every second
  setInterval(updateCountdown, 1000);
  
  // Initialize the countdown on page load
  updateCountdown();

  // Stats counter animation
  const counters = document.querySelectorAll(".counter");

  const startCount = (counter) => {
    const target = +counter.getAttribute("data-target");
    let count = 0;
    const increment = target / 100; // Adjust speed

    const updateCounter = () => {
      count += increment;
      counter.innerText = Math.ceil(count);

      if (count < target) {
        requestAnimationFrame(updateCounter);
      } else {
        counter.innerText = target; // Ensure it stops exactly at target
      }
    };

    updateCounter();
  };

  const observer = new IntersectionObserver(
    (entries, observer) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          startCount(entry.target);
          observer.unobserve(entry.target); // Prevent multiple triggers
        }
      });
    },
    { threshold: 0.5 }
  );

  counters.forEach((counter) => observer.observe(counter));

  // Toggle event description
  function toggleDescription(card) {
    const description = card.querySelector('.event-description');
    const isVisible = description.style.display === 'block';
    description.style.display = isVisible ? 'none' : 'block';
  }

  // Update Total Price for tickets
  const ticketType = document.getElementById("ticket-type");
  const ticketQuantity = document.getElementById("ticket-quantity");
  const totalCost = document.getElementById("total-cost");

  function updateTotal() {
    const price = parseInt(ticketType.value);
    const quantity = parseInt(ticketQuantity.value) || 0;
    totalCost.textContent = (price * quantity).toLocaleString();
  }

  if (ticketType && ticketQuantity) {
    ticketType.addEventListener("change", updateTotal);
    ticketQuantity.addEventListener("input", updateTotal);
  }

  // Schedule tabs functionality
  const tabs = document.querySelectorAll(".tab");
  const rows = document.querySelectorAll(".schedule-table tbody tr");

  tabs.forEach(tab => {
    tab.addEventListener("click", () => {
      tabs.forEach(t => t.classList.remove("active"));
      tab.classList.add("active");

      const filter = tab.dataset.filter;

      rows.forEach(row => {
        if (filter === "all" || row.dataset.event.includes(filter)) {
          row.classList.remove("hidden");
        } else {
          row.classList.add("hidden");
        }
      });
    });
  });

  // Toggle schedule and gallery sections
  const scheduleButton = document.getElementById('schedule-button');
  const scheduleSection = document.getElementById('event-schedule');
  const galleryButton = document.getElementById('gallery-button');
  const gallerySection = document.getElementById('gallery-section');

  if (scheduleButton && scheduleSection) {
    scheduleButton.addEventListener('click', () => {
      if (scheduleSection.classList.contains('hidden')) {
        scheduleSection.classList.remove('hidden');
        scheduleButton.textContent = 'Hide Schedule';
      } else {
        scheduleSection.classList.add('hidden');
        scheduleButton.textContent = 'Schedule';
      }
    });
  }

  if (galleryButton && gallerySection) {
    galleryButton.addEventListener('click', () => {
      if (gallerySection.classList.contains('hidden')) {
        gallerySection.classList.remove('hidden');
        galleryButton.textContent = 'Hide Gallery';
      } else {
        gallerySection.classList.add('hidden');
        galleryButton.textContent = 'Gallery';
      }
    });
  }

  // Function to generate a unique ticket number
  function generateTicketNumber() {
    return `TICKET-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;
  }

  // Function to generate a QR code
  async function generateQRCode(data) {
    const qrCode = await QRCode.toDataURL(data);
    return qrCode;
  }

  // Purchase button logic
  const purchaseButton = document.getElementById("purchase-button");
  const mpesaModal = document.getElementById("mpesa-modal");
  
  if (purchaseButton) {
    purchaseButton.addEventListener("click", function () {
      const quantity = parseInt(document.getElementById("ticket-quantity").value);
      if (quantity > 0) {
        if (mpesaModal) {
          mpesaModal.style.display = "flex"; // Show M-Pesa modal
        }
      } else {
        alert("Please select a ticket quantity before proceeding.");
      }
    });
  }

  // Confirm M-Pesa payment button logic
  const confirmMpesaButton = document.getElementById("confirm-mpesa-button");
  
  if (confirmMpesaButton) {
    confirmMpesaButton.addEventListener("click", async function () {
      const name = document.getElementById("user-name").value;
      const email = document.getElementById("user-email").value;
      const phone = document.getElementById("user-phone").value;
      const ticketType = document.getElementById("ticket-type").value;
      const quantity = parseInt(document.getElementById("ticket-quantity").value);

      if (!name || !email || !phone || quantity <= 0) {
        alert("Please fill all details correctly.");
        return;
      }

      const totalCost = ticketType * quantity;
      const ticketNumber = generateTicketNumber();

      // Generate QR code data
      const qrCodeData = `Ticket Number: ${ticketNumber}\nEvent: The Fearless Movement Camp\nName: ${name}\nEmail: ${email}\nPhone: ${phone}`;
      const qrCodeImage = await generateQRCode(qrCodeData);

      // Prepare ticket data
      const ticketData = {
        name,
        email,
        phone,
        ticketType,
        quantity,
        totalCost,
        ticketNumber,
        qrCodeImage,
      };

      // Send ticket data to the server
      fetch("http://localhost:5000/api/purchase-ticket", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify(ticketData),
      })
        .then((response) => response.json())
        .then((data) => {
          if (data.success) {
            alert("Purchase successful! Check your email for the ticket.");
            mpesaModal.style.display = "none"; // Close modal
          } else {
            alert("Purchase failed. Please try again.");
          }
        })
        .catch((error) => {
          console.error("Error:", error);
          alert("An error occurred while processing your request.");
        });
    });
  }

  // Close modal on outside click
  if (mpesaModal) {
    mpesaModal.addEventListener("click", function (e) {
      if (e.target === this) {
        this.style.display = "none";
      }
    });
  }

  // Function to show snackbar
  function showSnackbar(message, type = 'success') {
    const snackbar = document.getElementById('snackbar');
    if (snackbar) {
      snackbar.textContent = message;
      snackbar.className = `snackbar ${type} show`;

      // Hide after 3 seconds
      setTimeout(() => {
        snackbar.className = 'snackbar';
      }, 3000);
    }
  }

  // Make functions available globally
  window.toggleMenu = toggleMenu;
  window.toggleDescription = toggleDescription;
  window.showSnackbar = showSnackbar;
  window.generateTicketNumber = generateTicketNumber;
  window.generateQRCode = generateQRCode;
});
</script>

</body>
</html>
